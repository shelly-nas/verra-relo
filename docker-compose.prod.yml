services:
  verra-ind-alerts:
    image: ${REGISTRY}/verra-ind-alerts:${IMAGE_TAG:-latest}
    container_name: verra-ind-alerts
    # ports:
    #   - "9000:8080"
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.verra-ind.rule=Host(`ind.verra.shelly-nas.nl`)"
      - "traefik.http.routers.verra-ind.entrypoints=web"
      - "traefik.http.services.verra-ind.loadbalancer.server.port=8080"
    volumes:
      # Mount data directory to persist output files
      - ./data:/app/data
      # Config is baked into the image; persistent config stored in data/config.json
      # and copied into place by the application if needed
    env_file:
      - .env
    environment:
      - PYTHONUNBUFFERED=1
